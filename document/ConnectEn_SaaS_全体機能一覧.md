# ConnectEn SaaS プラットフォーム 全体機能一覧

## 文書概要
- **作成日**: 2025年8月5日
- **目的**: 補助金申請に伴うSaaS化対応のため、プラットフォーム全体の機能を体系的に整理
- **重要な変更点**: 単一企業向けシステムから、複数のダンススタジオが利用可能なマルチテナントSaaSプラットフォームへ移行

---

## 1. プラットフォーム層（Platform Layer）

### 1.1 スーパー管理機能（Super Admin）

#### テナント管理
- **テナント一覧管理**: 全テナント（ダンススタジオ）の表示・検索・フィルタリング
- **テナント登録・編集**: 新規テナントのオンボーディング、情報更新
- **テナント状態管理**: アクティブ/非アクティブ/試用期間/解約済みのステータス管理
- **テナント削除・アーカイブ**: データ保持ポリシーに基づく安全な削除処理

#### 契約・課金管理
- **サブスクリプション管理**: 各テナントの契約プラン（Basic/Professional/Enterprise）管理
- **利用量モニタリング**: ストレージ使用量、API呼び出し回数、アクティブユーザー数の監視
- **請求書発行**: 月次/年次請求書の自動生成と送付
- **支払い状況管理**: 入金確認、未払い警告、自動停止処理

#### プラットフォーム分析
- **全体利用統計**: プラットフォーム全体のKPI（総会員数、総売上、アクティブ率等）
- **テナント比較分析**: テナント間のパフォーマンス比較とベンチマーク
- **成長トレンド分析**: 新規テナント獲得率、解約率、収益成長率の可視化
- **異常検知**: 不正利用やシステム異常の早期発見

#### システム管理
- **マスターデータ管理**: 共通マスター（地域、言語、通貨等）の一元管理
- **機能フラグ管理**: テナントごとの機能有効/無効制御
- **メンテナンスモード**: 計画的メンテナンスの通知と実行
- **監査ログ**: 全テナントの重要操作履歴の記録と監視

### 1.2 プラットフォームサービス

#### 認証・認可サービス
- **統合認証基盤**: OAuth 2.0/OpenID Connectによるシングルサインオン
- **多要素認証**: SMS/Email/認証アプリによる2FA対応
- **テナント分離**: JWTトークンによるテナントコンテキストの管理
- **権限管理**: RBAC（Role-Based Access Control）による細かな権限制御

#### API Gateway
- **統一APIエンドポイント**: `/api/v1/{tenantId}/` 形式の標準化
- **レート制限**: テナント/ユーザー単位でのAPI利用制限
- **APIバージョニング**: 後方互換性を保った段階的アップグレード
- **開発者ポータル**: API仕様書とサンドボックス環境の提供

#### 通知サービス
- **統合通知基盤**: Email/SMS/Push/LINE等の一元管理
- **テンプレート管理**: テナント共通/個別のメッセージテンプレート
- **配信スケジューリング**: 予約配信と最適送信時間の自動判定
- **配信分析**: 開封率、クリック率、コンバージョン率の追跡

---

## 2. テナント層（Tenant Layer）- 各ダンススタジオ向け機能

### 2.1 会員管理機能

#### 基本的な会員管理
- **会員登録・編集**: オンライン/店頭での新規登録、プロフィール管理
- **会員種別管理**: 本会員/バーチャル会員/体験会員の区分管理
- **会員ステータス管理**: アクティブ/休会/退会/強制退会の状態遷移
- **家族アカウント連携**: 親子アカウントの紐付けと切り替え機能（MindBody参考）

#### 高度な会員機能
- **セグメント管理**: 属性・行動履歴による動的セグメント生成
- **会員ランク制度**: 利用頻度・金額によるランクアップ/ダウン
- **ブラックリスト管理**: 名前・電話番号・住所での照合、理由記録
- **重複会員検出**: メールアドレス変更時の同一人物判定

### 2.2 予約・スケジュール管理

#### レッスン予約
- **マルチスタジオ予約**: 複数拠点をまたがる統合予約システム
- **リアルタイム空き状況**: WebSocket による即時更新
- **ウェイティングリスト**: キャンセル待ち自動繰り上げ
- **予約制限管理**: 会員種別による予約可能数の制御

#### スケジュール管理
- **レッスンスケジュール作成**: 定期/不定期レッスンの柔軟な設定
- **講師アサイン**: 講師の稼働状況を考慮した自動/手動割り当て
- **スタジオ稼働率最適化**: AIによる需要予測と最適配置提案
- **変更通知**: スケジュール変更の自動通知

### 2.3 決済・売上管理

#### 決済処理
- **マルチ決済対応**: クレジットカード（GMO/Stripe）、口座振替（JACS）、店頭決済
- **自動フェイルオーバー**: 決済失敗時の代替手段への自動切り替え
- **決済情報非保持**: PCI DSS準拠のトークン化による安全な決済
- **エリア別決済設定**: 渋谷/横浜（JACS利用）と群馬/栃木（群馬銀行）の使い分け

#### 売上・請求管理
- **自動請求処理**: 月謝の自動引き落とし、失敗時の再試行
- **柔軟な料金設定**: キャンペーン価格、割引、ポイント利用の複雑な計算
- **請求書発行**: 電子請求書の自動生成と配信
- **未収金管理**: 支払い遅延の段階的対応（通知→債権回収→強制退会）

### 2.4 レッスン・イベント管理

#### オンラインレッスン
- **ライブ配信**: Zoom/YouTube連携によるリアルタイム配信
- **録画視聴**: オンデマンド視聴と視聴期限管理
- **ハイブリッド対応**: 対面/オンライン同時開催の予約管理
- **視聴分析**: 視聴時間、離脱率の分析

#### イベント・ワークショップ
- **イベント作成**: 単発/複数回のイベント設定
- **チケット販売**: 電子チケット発行、QRコード認証
- **定員管理**: リアルタイム残席表示、満席時の対応
- **ダンスキャンプ管理**: 複数日程の統合管理（1day/2day/3day券）

### 2.5 施設・リソース管理

#### レンタルスタジオ
- **料金自動計算**: 利用者属性（営利/非営利）、時間帯、設備利用による変動料金
- **講師向け優遇**: 講師専用料金、簡易予約フロー
- **鍵管理連携**: スマートロックやQRコードによる入退室管理
- **利用実績分析**: スタジオ稼働率、収益性の可視化

#### 在庫・物品管理
- **商品マスタ管理**: ダンス用品、ドリンク等の在庫管理
- **バーコード対応**: POSレジ連携による効率的な販売
- **発注管理**: 在庫アラートと自動発注提案
- **棚卸機能**: 定期的な在庫確認とロス管理

### 2.6 マーケティング・CRM

#### 顧客コミュニケーション
- **セグメント配信**: 属性・行動履歴に基づくターゲティング
- **マーケティングオートメーション**: シナリオベースの自動配信
- **LINE/SNS連携**: 公式アカウントとの連携、拡散支援
- **ブラストメール連携**: 既存システムとの統合

#### ロイヤリティプログラム
- **ポイント管理**: 付与・利用・有効期限の統合管理
- **友達紹介プログラム**: 紹介者/被紹介者への自動ポイント付与
- **講師紹介インセンティブ**: 講師経由の入会特典自動化
- **会員ランク特典**: ランクに応じた優遇サービス

### 2.7 分析・レポート

#### 経営ダッシュボード
- **リアルタイムKPI**: 売上、会員数、稼働率の即時表示
- **前年同期比較**: 成長率の可視化と要因分析
- **予測分析**: AIによる売上予測、退会リスク予測
- **カスタムレポート**: ドラッグ&ドロップでの自由なレポート作成

#### 詳細分析機能
- **会員分析**: LTV、継続率、離脱要因の深掘り
- **レッスン分析**: 人気クラス、講師評価、時間帯分析
- **財務分析**: 部門別損益、キャッシュフロー予測
- **競合ベンチマーク**: 匿名化された他テナントとの比較

### 2.8 スタッフ・講師管理

#### スタッフ管理
- **勤怠管理**: ICカード/QRコードによる打刻、シフト管理
- **権限管理**: 役割に応じた機能アクセス制御
- **業績管理**: 個人/チームKPIの設定と追跡
- **教育管理**: 研修履歴、スキル管理

#### 講師管理
- **講師マイページ**: 担当レッスン、予約状況の確認
- **報酬計算**: レッスン数、生徒数に基づく自動計算
- **評価管理**: 生徒からのフィードバック集計
- **講師スケジュール最適化**: 移動時間を考慮した効率的な配置

---

## 3. 共通基盤機能

### 3.1 セキュリティ・コンプライアンス
- **データ暗号化**: 保存時/通信時の暗号化
- **個人情報保護**: GDPR/個人情報保護法準拠
- **アクセスログ**: 全操作の記録と監査証跡
- **定期的なセキュリティ監査**: 脆弱性診断とペネトレーションテスト

### 3.2 インテグレーション
- **会計システム連携**: 主要会計ソフトとのデータ連携
- **決済ゲートウェイ**: 複数決済サービスの統合管理
- **外部マーケティングツール**: MAツール、CRMとの連携
- **IoTデバイス連携**: 入退室管理、防犯カメラシステム

### 3.3 モバイル対応
- **レスポンシブデザイン**: PC/タブレット/スマホ最適化
- **プログレッシブWebアプリ**: オフライン対応、プッシュ通知
- **ネイティブアプリ**: iOS/Android専用アプリ（将来計画）
- **QRコード機能**: チェックイン、決済、会員証表示

---

## 4. AI・自動化機能（補助金対象）

### 4.1 予測・最適化
- **需要予測**: 過去データに基づくレッスン需要予測
- **動的価格設定**: 需給バランスに応じた料金最適化
- **スタッフシフト最適化**: AIによる効率的な人員配置
- **在庫最適化**: 需要予測に基づく自動発注提案

### 4.2 顧客体験向上
- **レコメンデーション**: 個人の嗜好に基づくレッスン提案
- **チャットボット**: 24時間対応の自動問い合わせ対応
- **異常検知**: 退会リスクの早期発見とアラート
- **パーソナライゼーション**: 個人に最適化されたコンテンツ配信

---

## 5. 移行・導入支援

### 5.1 データ移行
- **既存データ取り込み**: CSVインポート機能
- **データクレンジング**: 重複排除、形式統一
- **段階的移行**: 拠点単位での順次切り替え
- **並行稼働期間**: 新旧システムの同時運用サポート

### 5.2 導入支援
- **オンボーディング**: 段階的な機能開放
- **トレーニング**: 役割別の操作研修
- **ヘルプセンター**: 操作マニュアル、FAQ、動画ガイド
- **サポート体制**: チャット/メール/電話サポート

---

## 6. 今後の拡張計画

### Phase 1（2025年）
- マルチテナント基盤構築
- 基本的な会員・予約管理機能
- 決済機能の統合

### Phase 2（2026年）
- AI機能の実装
- 高度な分析機能
- モバイルアプリ開発

### Phase 3（2027年以降）
- 国際展開対応（多言語・多通貨）
- フランチャイズ管理機能
- 業界マーケットプレイス構築